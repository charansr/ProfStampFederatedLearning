[2024-06-20 10:21:10,536][flwr][INFO] - Starting Flower simulation, config: num_rounds=10, no round_timeout
[2024-06-20 10:21:12,879][flwr][INFO] - Flower VCE: Ray initialized with resources: {'memory': 8793132237.0, 'node:__internal_head__': 1.0, 'object_store_memory': 2147483648.0, 'CPU': 12.0, 'node:127.0.0.1': 1.0}
[2024-06-20 10:21:12,879][flwr][INFO] - Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
[2024-06-20 10:21:12,879][flwr][INFO] - Flower VCE: Resources for each Virtual Client: {'num_cpus': 2, 'num_gpus': 0}
[2024-06-20 10:21:12,891][flwr][INFO] - Flower VCE: Creating VirtualClientEngineActorPool with 6 actors
[2024-06-20 10:21:12,891][flwr][INFO] - [INIT]
[2024-06-20 10:21:12,891][flwr][INFO] - Requesting initial parameters from one random client
[2024-06-20 10:21:15,269][flwr][INFO] - Received initial parameters from one random client
[2024-06-20 10:21:15,269][flwr][INFO] - Evaluating initial global parameters
[2024-06-20 10:21:15,719][flwr][INFO] - initial parameters (loss, other metrics): 181.76928067207336, {'accuracy': 0.1086, 'precision': 0.12349967530374152, 'recall': 0.1086, 'f1': 0.03553137346181725, 'confusion_matrix': array([[   0,    8,    0,  956,    0,    1,    0,   15,    0,    0],
       [   0,  122,    0, 1013,    0,    0,    0,    0,    0,    0],
       [   0,   38,    0,  971,    0,    0,    3,   19,    1,    0],
       [   0,   44,    0,  945,    1,    1,    0,   17,    2,    0],
       [   0,  143,    0,  816,    1,    0,    2,   20,    0,    0],
       [   0,  118,    0,  735,    1,    7,    0,   30,    1,    0],
       [   0,  144,    0,  749,   25,    0,    2,   38,    0,    0],
       [   0,  272,    0,  724,    8,    0,    0,    9,   15,    0],
       [   0,   81,    0,  859,    1,    0,    1,   32,    0,    0],
       [   0,  178,    0,  799,    1,    0,    0,   31,    0,    0]])}
[2024-06-20 10:21:15,720][flwr][INFO] - 
[2024-06-20 10:21:15,720][flwr][INFO] - [ROUND 1]
[2024-06-20 10:21:15,721][flwr][INFO] - configure_fit: strategy sampled 10 clients (out of 100)
[2024-06-20 10:21:18,281][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:18,286][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:21,255][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:21,277][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:21,332][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:21,333][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:21,334][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:21,335][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:21,335][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:21,336][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:21,369][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:21,370][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:21,410][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:21,411][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:23,234][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:23,235][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:23,266][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:23,266][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:23,295][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:23,295][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:23,296][flwr][INFO] - aggregate_fit: received 0 results and 10 failures
[2024-06-20 10:21:23,729][flwr][INFO] - fit progress: (1, 181.76928067207336, {'accuracy': 0.1086, 'precision': 0.12349967530374152, 'recall': 0.1086, 'f1': 0.03553137346181725, 'confusion_matrix': array([[   0,    8,    0,  956,    0,    1,    0,   15,    0,    0],
       [   0,  122,    0, 1013,    0,    0,    0,    0,    0,    0],
       [   0,   38,    0,  971,    0,    0,    3,   19,    1,    0],
       [   0,   44,    0,  945,    1,    1,    0,   17,    2,    0],
       [   0,  143,    0,  816,    1,    0,    2,   20,    0,    0],
       [   0,  118,    0,  735,    1,    7,    0,   30,    1,    0],
       [   0,  144,    0,  749,   25,    0,    2,   38,    0,    0],
       [   0,  272,    0,  724,    8,    0,    0,    9,   15,    0],
       [   0,   81,    0,  859,    1,    0,    1,   32,    0,    0],
       [   0,  178,    0,  799,    1,    0,    0,   31,    0,    0]])}, 8.009263958)
[2024-06-20 10:21:23,730][flwr][INFO] - configure_evaluate: no clients selected, skipping evaluation
[2024-06-20 10:21:23,730][flwr][INFO] - 
[2024-06-20 10:21:23,730][flwr][INFO] - [ROUND 2]
[2024-06-20 10:21:23,730][flwr][INFO] - configure_fit: strategy sampled 10 clients (out of 100)
[2024-06-20 10:21:26,881][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:26,907][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:26,935][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:26,942][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:26,987][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:26,987][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:27,023][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:27,023][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:27,043][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:27,044][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:27,084][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:27,085][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:29,167][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:29,168][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:29,185][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:29,185][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:29,228][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:29,229][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:29,272][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:29,272][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:29,273][flwr][INFO] - aggregate_fit: received 0 results and 10 failures
[2024-06-20 10:21:29,712][flwr][INFO] - fit progress: (2, 181.76928067207336, {'accuracy': 0.1086, 'precision': 0.12349967530374152, 'recall': 0.1086, 'f1': 0.03553137346181725, 'confusion_matrix': array([[   0,    8,    0,  956,    0,    1,    0,   15,    0,    0],
       [   0,  122,    0, 1013,    0,    0,    0,    0,    0,    0],
       [   0,   38,    0,  971,    0,    0,    3,   19,    1,    0],
       [   0,   44,    0,  945,    1,    1,    0,   17,    2,    0],
       [   0,  143,    0,  816,    1,    0,    2,   20,    0,    0],
       [   0,  118,    0,  735,    1,    7,    0,   30,    1,    0],
       [   0,  144,    0,  749,   25,    0,    2,   38,    0,    0],
       [   0,  272,    0,  724,    8,    0,    0,    9,   15,    0],
       [   0,   81,    0,  859,    1,    0,    1,   32,    0,    0],
       [   0,  178,    0,  799,    1,    0,    0,   31,    0,    0]])}, 13.992537083)
[2024-06-20 10:21:29,712][flwr][INFO] - configure_evaluate: no clients selected, skipping evaluation
[2024-06-20 10:21:29,712][flwr][INFO] - 
[2024-06-20 10:21:29,713][flwr][INFO] - [ROUND 3]
[2024-06-20 10:21:29,713][flwr][INFO] - configure_fit: strategy sampled 10 clients (out of 100)
[2024-06-20 10:21:32,964][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:32,966][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:33,006][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:33,029][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:33,045][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:33,046][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:33,088][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:33,092][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:33,155][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:33,158][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:33,206][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:33,207][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:35,517][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:35,518][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:35,587][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:35,587][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:35,587][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:35,588][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:35,602][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:35,602][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio* total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:35,602][flwr][INFO] - aggregate_fit: received 0 results and 10 failures
[2024-06-20 10:21:36,041][flwr][INFO] - fit progress: (3, 181.76928067207336, {'accuracy': 0.1086, 'precision': 0.12349967530374152, 'recall': 0.1086, 'f1': 0.03553137346181725, 'confusion_matrix': array([[   0,    8,    0,  956,    0,    1,    0,   15,    0,    0],
       [   0,  122,    0, 1013,    0,    0,    0,    0,    0,    0],
       [   0,   38,    0,  971,    0,    0,    3,   19,    1,    0],
       [   0,   44,    0,  945,    1,    1,    0,   17,    2,    0],
       [   0,  143,    0,  816,    1,    0,    2,   20,    0,    0],
       [   0,  118,    0,  735,    1,    7,    0,   30,    1,    0],
       [   0,  144,    0,  749,   25,    0,    2,   38,    0,    0],
       [   0,  272,    0,  724,    8,    0,    0,    9,   15,    0],
       [   0,   81,    0,  859,    1,    0,    1,   32,    0,    0],
       [   0,  178,    0,  799,    1,    0,    0,   31,    0,    0]])}, 20.321901124999997)
[2024-06-20 10:21:36,042][flwr][INFO] - configure_evaluate: no clients selected, skipping evaluation
[2024-06-20 10:21:36,042][flwr][INFO] - 
[2024-06-20 10:21:36,042][flwr][INFO] - [ROUND 4]
[2024-06-20 10:21:36,042][flwr][INFO] - configure_fit: strategy sampled 10 clients (out of 100)
[2024-06-20 10:21:39,637][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:39,654][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:39,664][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:39,678][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:39,721][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:39,721][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:39,722][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:39,722][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:39,722][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:39,723][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:39,762][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:39,763][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:41,885][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:41,887][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:41,908][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:41,909][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:42,008][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:42,008][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:42,044][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:42,045][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:42,045][flwr][INFO] - aggregate_fit: received 0 results and 10 failures
[2024-06-20 10:21:42,495][flwr][INFO] - fit progress: (4, 181.76928067207336, {'accuracy': 0.1086, 'precision': 0.12349967530374152, 'recall': 0.1086, 'f1': 0.03553137346181725, 'confusion_matrix': array([[   0,    8,    0,  956,    0,    1,    0,   15,    0,    0],
       [   0,  122,    0, 1013,    0,    0,    0,    0,    0,    0],
       [   0,   38,    0,  971,    0,    0,    3,   19,    1,    0],
       [   0,   44,    0,  945,    1,    1,    0,   17,    2,    0],
       [   0,  143,    0,  816,    1,    0,    2,   20,    0,    0],
       [   0,  118,    0,  735,    1,    7,    0,   30,    1,    0],
       [   0,  144,    0,  749,   25,    0,    2,   38,    0,    0],
       [   0,  272,    0,  724,    8,    0,    0,    9,   15,    0],
       [   0,   81,    0,  859,    1,    0,    1,   32,    0,    0],
       [   0,  178,    0,  799,    1,    0,    0,   31,    0,    0]])}, 26.775993041)
[2024-06-20 10:21:42,495][flwr][INFO] - configure_evaluate: no clients selected, skipping evaluation
[2024-06-20 10:21:42,496][flwr][INFO] - 
[2024-06-20 10:21:42,496][flwr][INFO] - [ROUND 5]
[2024-06-20 10:21:42,496][flwr][INFO] - configure_fit: strategy sampled 10 clients (out of 100)
[2024-06-20 10:21:46,093][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:46,102][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:46,110][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:46,124][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:46,156][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:46,157][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:46,157][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:46,158][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:46,158][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:46,158][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:46,159][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:46,160][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:48,203][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:48,204][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:48,332][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:48,332][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:48,345][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:48,345][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:48,410][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

[2024-06-20 10:21:48,411][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 139, in fit
    return self.get_parameters({}), len(trainloader), {}
  File "/Users/charansr/Stamp2024/client.py", line 88, in get_parameters
    state_dict = controllable_mpaf_attack_nn(state_dict, self.device, self.weight_ratio)
  File "/Users/charansr/Stamp2024/attacks.py", line 245, in controllable_mpaf_attack_nn
    tmp=ratio_tensors_same(changing_tensor=tmp,reference_tensor=mpaf[key],same_ratio=(1-weight_ratio))
  File "/Users/charansr/Stamp2024/attacks.py", line 17, in ratio_tensors_same
    elements_to_change = int(same_ratio * total_elements)
TypeError: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for *: 'int' and 'builtin_function_or_method'
[2024-06-20 10:21:48,411][flwr][INFO] - aggregate_fit: received 0 results and 10 failures
[2024-06-20 10:21:48,851][flwr][INFO] - fit progress: (5, 181.76928067207336, {'accuracy': 0.1086, 'precision': 0.12349967530374152, 'recall': 0.1086, 'f1': 0.03553137346181725, 'confusion_matrix': array([[   0,    8,    0,  956,    0,    1,    0,   15,    0,    0],
       [   0,  122,    0, 1013,    0,    0,    0,    0,    0,    0],
       [   0,   38,    0,  971,    0,    0,    3,   19,    1,    0],
       [   0,   44,    0,  945,    1,    1,    0,   17,    2,    0],
       [   0,  143,    0,  816,    1,    0,    2,   20,    0,    0],
       [   0,  118,    0,  735,    1,    7,    0,   30,    1,    0],
       [   0,  144,    0,  749,   25,    0,    2,   38,    0,    0],
       [   0,  272,    0,  724,    8,    0,    0,    9,   15,    0],
       [   0,   81,    0,  859,    1,    0,    1,   32,    0,    0],
       [   0,  178,    0,  799,    1,    0,    0,   31,    0,    0]])}, 33.1320265)
[2024-06-20 10:21:48,851][flwr][INFO] - configure_evaluate: no clients selected, skipping evaluation
[2024-06-20 10:21:48,851][flwr][INFO] - 
[2024-06-20 10:21:48,851][flwr][INFO] - [ROUND 6]
[2024-06-20 10:21:48,852][flwr][INFO] - configure_fit: strategy sampled 10 clients (out of 100)
[2024-06-20 10:21:51,470][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(TaskCancelledError): [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(6edc40d11ee7f9427a7eeff8025fb3426e3b50a801000000) was cancelled.

[2024-06-20 10:21:51,483][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96755, ip=127.0.0.1, actor_id=7a7eeff8025fb3426e3b50a801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x114affb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(6edc40d11ee7f9427a7eeff8025fb3426e3b50a801000000) was cancelled.
[2024-06-20 10:21:51,563][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(TaskCancelledError): [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(f150a418017f8bbb225d8b1fe6f37f88775d8e7201000000) was cancelled.

[2024-06-20 10:21:51,565][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(TaskCancelledError): [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(94c53ada424c57760f2e909371e58559f15c428601000000) was cancelled.

[2024-06-20 10:21:51,565][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(TaskCancelledError): [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(881a4edf42761e2b114f04c373f910151a765d9b01000000) was cancelled.

[2024-06-20 10:21:51,567][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(TaskCancelledError): [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(6c2796e677c600fef065d52b96ebc02b4929ae5001000000) was cancelled.

[2024-06-20 10:21:51,568][flwr][ERROR] - Traceback (most recent call last):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(TaskCancelledError): [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(45e91a39fdef13a718a4a1d80e180cbfe70b113701000000) was cancelled.

[2024-06-20 10:21:51,569][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96757, ip=127.0.0.1, actor_id=225d8b1fe6f37f88775d8e7201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10c40fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(f150a418017f8bbb225d8b1fe6f37f88775d8e7201000000) was cancelled.
[2024-06-20 10:21:51,570][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96754, ip=127.0.0.1, actor_id=0f2e909371e58559f15c428601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x109f2fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(94c53ada424c57760f2e909371e58559f15c428601000000) was cancelled.
[2024-06-20 10:21:51,572][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96756, ip=127.0.0.1, actor_id=114f04c373f910151a765d9b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x112ef7a60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(881a4edf42761e2b114f04c373f910151a765d9b01000000) was cancelled.
[2024-06-20 10:21:51,572][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96753, ip=127.0.0.1, actor_id=f065d52b96ebc02b4929ae5001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x10e8efb50>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(6c2796e677c600fef065d52b96ebc02b4929ae5001000000) was cancelled.
[2024-06-20 10:21:51,572][flwr][ERROR] - [36mray::ClientAppActor.run()[39m (pid=96758, ip=127.0.0.1, actor_id=18a4a1d80e180cbfe70b113701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x108b4fa60>)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 58, in run
    out_message = app(message=message, context=context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/Users/charansr/Stamp2024/client.py", line 124, in fit
    train(self.model, trainloader, optim, epochs, self.device)
  File "/Users/charansr/Stamp2024/model.py", line 44, in train
    for images, labels in trainloader:
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1329, in _next_data
    idx, data = self._get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1295, in _get_data
    success, data = self._try_get_data()
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/queues.py", line 107, in get
    if not self._poll(timeout):
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/opt/anaconda3/envs/flwr_env/lib/python3.8/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
ray.exceptions.TaskCancelledError: Task: TaskID(45e91a39fdef13a718a4a1d80e180cbfe70b113701000000) was cancelled.
